<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">

<h:head>
    <title>Tech Equations - Testimonials</title>

    <script>
        window.onload = function () {
            const images = document.querySelectorAll('.user-photo');
            const text = document.querySelectorAll('.text');
            let index = 0;
            const max = images.length;

            window.nextTestimonial = function () {
                images[index].classList.remove("active");
                text[index].classList.remove("active");
                index = (index + 1) % max;
                images[index].classList.add("active");
                text[index].classList.add("active");
            };

            window.previousTestimonial = function () {
                images[index].classList.remove("active");
                text[index].classList.remove("active");
                index = (index - 1 + max) % max;
                images[index].classList.add("active");
                text[index].classList.add("active");
            };
        };
    </script>
    <style>
        :root {
            --dark-blue: hsl(200, 38%, 20%);
            --grayish-blue: hsl(240, 18%, 77%);
            --light-blue: #73d2f3;
            --white: #fff;
        }

        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
            zoom: 0.8
        }
        .testimonial-intro {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: center;
            background: url('resources/images/star-bg.png') no-repeat center;
            background-size: cover;
            padding: 4rem 7rem;
            gap: 5rem;
        }

        .testimonial-image {
            flex: 1 1 300px;
            text-align: center;
        }

        .testimonial-image img {
            max-width: 100%;
            height: auto;
            max-height: 280px;
        }

        .testimonial-text {
            flex: 1 1 400px;
            max-width: 600px;
            color: #0f416c;
        }

        .testimonial-text h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
        }

        .testimonial-text h2 {
            font-size: 1.5rem;
            font-weight: 400;
            color: #205080;
            margin-bottom: 1.5rem;
        }

        .testimonial-text p {
            font-size: 1.2rem;
            color: #4f6f8f;
            margin-bottom: 2rem;
        }

        .testimonial-text a {
            background-color: #0f416c;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            text-decoration: none;
            font-size: 1rem;
        }

          .testimonial-body {
            min-height: 100vh;
            background-image: url("#{resource['images/pattern-curve.svg']}");
            background-repeat: no-repeat;
            background-position: bottom left;
            background-size: 75%;
            color: #0f416c;
            overflow-x: auto;
            position: relative;
              display: flex;
              align-items: center;
              justify-content: center;
        }
        .ellipse-1 {
            position: absolute;
            width: 634px;
            height: 634px;
            top: 0;
            left: 0;
            background-color: #0f416c;
            border-radius: 50%;
            filter: blur(500px);
        }

        .ellipse, .ellipse-2 {
            position: absolute;
            width: 634px;
            height: 634px;
            border-radius: 50%;
            filter: blur(500px);
        }

        .ellipse {
            background-color: #ffd5d5;
            top: 34px;
            left: 0;
        }

        .ellipse-2 {
            background-color: #54be96;
            bottom: 0;
            right: 0;
        }

        .container-1 {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            max-width: 1200px;
            width: 100%;
            position: relative;
        }

        .slider {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-image: url("#{resource['images/pattern-bg.svg']}");
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            height: 100%;
            width: 100%;
            max-width: 700px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.05);
            margin: 0 50px 80px 50px;
        }

        .image {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        /* Avatar or circle */
        .user-photo,
        .avatar-circle {
            width: 180px;
            height: 180px;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(14, 66, 112, 0.5);
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4.5rem;
            font-weight: 700;
            color: white;
            background-color: #0f416c;
            animation: fadeInScale 0.8s ease forwards;
        }

        .user-photo {
            box-shadow: 0 1rem 3rem rgba(0, 0, 0, 0.24);
            margin-top: 1.6rem;
            display: none;
            animation-duration: 1s;
            animation-fill-mode: forwards;
        }

        .user-photo.active {
            display: block;
            animation-name: slideLeft;
        }

        .buttons {
            display: flex;
            background: var(--white);
            border-radius: 50%;
            margin-top: -1.2rem;
            z-index: 1;
            box-shadow: 0 0 6px rgba(0,0,0,0.1);
        }

        button {
            border: none;
            outline: none;
            background: var(--white);
            width: 2.6rem;
            height: 2.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.3s ease;
        }

        button:hover, button:focus {
            background-color: var(--light-blue);
            outline: none;
        }

        button.previous {
            border-radius: 50%;
            position: absolute;
            display: flex;
            top: 40%;
            left: 0;
        }

        button.next {
            border-radius: 50%;
            position: absolute;
            display: flex;
            top: 40%;
            right: 0;
        }

        button.previous img {
            width: 24%;
        }

        button.next img {
            width: 24%;
        }

        /* Quote text container */
        .text {
            display: none;
            flex-direction: column;
            align-items: center;
            height: 100%;
            width: 100%;
            animation-duration: 1s;
            animation-fill-mode: forwards;
            max-width: 600px;
            color: #0f416c;
            font-size: 1.5rem;
            font-weight: 300;
            line-height: 1.4;
            text-align: center;
            animation: fadeInRight 1s ease forwards;
        }

        .text.active {
            display: flex;
            animation-name: slideRight;
        }

        .testimonial {
            position: relative;
            padding: 2rem 3rem 3rem 3rem;
            background-color: #f0f8ff;
            border-radius: 1rem;
            box-shadow: 0 10px 30px rgba(14, 66, 112, 0.15);
            text-align: center;
            font-size: 1.1rem;
            font-weight: 300;
            line-height: 1.3;
            background-image: url("#{resource['images/pattern-quotes.svg']}");
            background-repeat: no-repeat;
            background-position: top 2vh center;
            background-size: 50px;
            color: #0f416c;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction:column;
        }

        .container-footer {
            text-align: center;
        }

        .container-footer p {
            font-weight: 1000;
            font-size: 15px;
            color: #0f416c;
            margin-top: 1rem;
        }

        .container-footer span {
            font-size: 15px;
            font-weight: 500;
            color: #73d2f3;
        }

        .attribution {
            font-size: 11px;
            text-align: center;
            margin-top: 2rem;
        }

        .attribution a {
            color: #0f416c;
            text-decoration: none;
        }

        .attribution a:hover {
            text-decoration: underline;
        }

        /* Animations */
        @keyframes slideRight {
            from {
                transform: translateX(100vw);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideLeft {
            from {
                transform: translateX(-100vw);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Responsive */
        @media screen and (max-width: 480px) {
            html, body {
                overflow-x: hidden;
            }

            .testimonial-intro {
                gap: 0;
                padding: 2rem 1rem;
                flex-direction: column;
                text-align: center;
            }

            .user-photo {
                width: 120px;
                height: 120px;
            }

            .testimonial-text h1 {
                font-size: 1.8rem;
            }

            .testimonial-text h2 {
                font-size: 1.2rem;
            }

            .testimonial-text p {
                font-size: 1rem;
            }

            .text {
                font-size: 1rem;
                padding: 0 1rem;
                animation-name: slideLeft;
                align-items: flex-start;
                justify-content: center;
                left: 9.5vw;
            }

            .testimonial {
                padding: 1rem;
            }

            button.previous, button.next {
                top: 30%;
            }
        }
        @media (min-width: 768px) {
            .container-1 {
                flex-direction: row-reverse;
            }

            .user-photo {
                width: 80%;
                margin-top: 2rem;
                animation-name: slideRight;
            }

            .container-footer {
                text-align: left;
            }
            .ellipse-1 {
                width: 434px;
                height: 434px;
            }

            .ellipse, .ellipse-2 {
                width: 434px;
                height: 434px;
            }
        }

        @media (min-width: 1360px) {
            .testimonial-body {
                background-size: 50%;
            }

            .user-photo {
                width: 500px;
            }

            .testimonial {
                font-size: 1.8rem;
                background-position: top left 15vh;
                background-size: 80px;
            }

            .container-footer {
                display: flex;
                align-items: center;
                justify-content: center;
                margin-top: 2rem;
            }

            .buttons {
                margin-right: 16rem;
            }
        }

        @media (min-width: 1440px) {
            .testimonial-body {
                background-size: 50%;
            }

            .user-photo {
                width: 100%;
                margin-top: 3.2rem;
            }

            .testimonial {
                font-size: 2.2rem;
                background-position: top left 11vh;
                background-size: 140px;
                padding-top: 5rem;
            }

            .buttons {
                margin-top: -2rem;
                margin-right: 12rem;
            }

            .container-footer p,
            .container-footer span {
                font-size: 1.5rem;
            }
        }

    </style>
</h:head>

<h:body>
        <ui:include src="/website/common/navbar.xhtml"/>
    <p:outputPanel styleClass="ellipse" />
    <p:outputPanel styleClass="ellipse-2" />
    <p:outputPanel styleClass="ellipse-1" />
    <div class="testimonial-intro">
        <div class="testimonial-text">
            <h1>Voices of Impact</h1>
            <h2>Real stories from real people</h2>
            <p>
                Discover how our work has made a difference. Each testimonial is a reminder of the trust we’ve earned and the value we deliver.
            </p>
        </div>
        <div class="testimonial-image">
            <img src="#{resource['images/testimonials.png']}" alt="Happy Clients Illustration" />
        </div>
    </div>
    <h1 style="background-color: #0e4270; height: 80px; color: white; font-weight: bold; font-family: DM Serif Text, Helvetica, serif; align-items: center; display: flex; justify-content: center;margin-bottom: 20px">TESTIMONIALS</h1>
    <div class="testimonial-body">

        <div class="container-1">
            <div class="slider">
                <ui:repeat var="testimonial" value="#{testimonialsController.testimonials}" varStatus="status">
                    <div class="image #{status.index == 0 ? 'active' : ''}">
                        <img class="user-photo #{status.index == 0 ? 'active' : ''}"
                             src="#{resource[empty testimonial.avatarUrl ? 'images/image-tanya.jpg' : testimonial.avatarUrl]}"
                             alt="#{testimonial.authorName}"/>
                    </div>

                    <div class="text #{status.index == 0 ? 'active' : ''}">
                        <div class="testimonial">
                            <blockquote>
                                #{testimonial.quoteText}
                            </blockquote>

                            <div class="container-footer">
                            <p>#{testimonial.authorName}</p>
                            <span>#{testimonial.authorTitle}</span>
                        </div>
                        </div>

                    </div>
                </ui:repeat>

                <div class="buttons">
                    <button type="button" onclick="previousTestimonial()" class="previous">
                        <svg xmlns="http://www.w3.org/2000/svg" width="12" height="18"><path fill="none" stroke="#0e4270" stroke-width="3" d="M11 1L3 9l8 8"/></svg>
                    </button>
                    <button type="button" onclick="nextTestimonial()" class="next">
                        <svg xmlns="http://www.w3.org/2000/svg" width="13" height="18">
                            <path fill="none" stroke="#0e4270" stroke-width="3" d="M2 1l8 8-8 8"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>
</h:body>
<footer>
    <ui:include src="/website/common/footer.xhtml" />
</footer>
</html>
