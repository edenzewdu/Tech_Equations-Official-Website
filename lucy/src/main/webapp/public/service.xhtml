<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">

<h:head>
    <title>Tech Equations - Services</title>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const images = [
                "https://loremflickr.com/600/400/technology?random=101",
                "https://loremflickr.com/600/400/technology?random=202",
                "https://loremflickr.com/600/400/technology?random=303",
                "https://loremflickr.com/600/400/technology?random=404",
                "https://loremflickr.com/600/400/technology?random=505"
            ];

            const imgElement = document.getElementById("techImage");
            const originalSrc = imgElement.src;

            imgElement.addEventListener("mouseenter", () => {
                let randomSrc;
                do {
                    randomSrc = images[Math.floor(Math.random() * images.length)];
                } while(randomSrc === imgElement.src);
                imgElement.src = randomSrc;
            });

            imgElement.addEventListener("mouseleave", () => {
                imgElement.src = originalSrc;
            });
        });
    </script>


    <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet"/>

    <style>
        @keyframes fadeUp {
            0% { opacity: 0; transform: translateY(30px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9fafb;
            color: #333;
            overflow-x: hidden;
        }

        .ellipse-1 {
            position: absolute;
            width: 634px;
            height: 634px;
            top: 0;
            left: 0;
            background-color: #0f416c;
            border-radius: 50%;
            filter: blur(500px);
        }

        .ellipse, .ellipse-2 {
            position: absolute;
            width: 634px;
            height: 634px;
            border-radius: 50%;
            filter: blur(500px);
        }

        .ellipse {
            background-color: #ffd5d5;
            top: 34px;
            left: 0;
        }

        .ellipse-2 {
            background-color: #54be96;
            bottom: 0;
            right: 0;
        }
        /* Container */
        .services-section {
            position: relative;
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 3rem;
            padding: 6rem 2rem 4rem;
            max-width: 1200px;
            margin: auto;
            overflow: visible;
            border-radius: 24px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(6px);
        }

        /* Shape extending at bottom using ::after */
        .services-section::after {
            content: "";
            position: absolute;
            bottom: -40px;
            left: 0;
            width: 100%;
            height: 80px;
            background: radial-gradient(circle at 50% 0%, #ffffffcc, transparent);
            z-index: -1;
        }

        /* Image container with offset */
        .desktop-image {
            flex: 1 1 45%;
            position: relative;
            z-index: 1;
            margin-top: -10%;
            clip-path: polygon(25% 0%, 75% 0%, 100% 25%, 25% 100%, 25% 100%, 25% 100%, 75% 100%, 25% 100%, 0% 50%);

        }

        .hero-image {
            width: 100%;
            border-radius: 18px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .mobile-image{
            display: none;
        }

        /* Text content */
        .text-content {
            flex: 1 1 50%;
            z-index: 2;
        }

        .text-content header h1 {
            font-size: 2.8rem;
            font-weight: bold;
            color: #111;
        }

        .text-content header p {
            font-size: 1.2rem;
            color: #666;
            margin: 1rem 0 2rem;
        }

        .text-content p {
            font-size: 1rem;
            line-height: 1.8;
            color: #444;
            align-content: center;
        }

        /* Animations */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .text-content {
            flex: 1;
            min-width: 300px;
        }

        .text-content h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #333;
        }

        .text-content p {
            font-size: 1rem;
            line-height: 1.6;
            color: #555;
        }

        .puzzle-wrapper {
            flex: 1 1 320px;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 800px;
        }

        .puzzle-piece {
            width: 320px;
            height: 320px;
            animation: puzzleFitIn 1.5s ease forwards;
            transform-origin: center center;
            transform: scale(0) rotate(-10deg);
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            border-radius: 15px;
        }

        /* Puzzle piece shape path is sharper now for distinct tabs/blanks */
        /* animation: scales piece from 0 to 1 and rotates to 0 */
        @keyframes puzzleFitIn {
            0% {
                opacity: 0;
                transform: scale(0) rotate(-10deg);
            }
            80% {
                opacity: 1;
                transform: scale(1.1) rotate(5deg);
            }
            100% {
                opacity: 1;
                transform: scale(1) rotate(0deg);
            }
        }
        /* Mobile Styles */
        @media (max-width: 768px) {
            .services-section {
                flex-direction: column;
                text-align: center;
            }

            .intro-text {
                margin-bottom: 1rem;
            }

            .image-content {
                order: 2;
            }

            .description {
                order: 3;
            }
        }

        .section {
            max-width: 1000px;
            margin: 2rem auto;
            padding: 1rem 2rem;
            border-radius: 16px;
            animation: fadeUp 1s ease-in-out;
        }

        .section h2 {
            color: #0f416c;
            font-size: 2rem;
            margin-bottom: 1.5rem;
            text-align: center;
            animation: fadeUp 1.2s ease-in-out;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 2rem;
            overflow: visible;
            animation: fadeUp 1.3s ease-in-out;
        }

        .service-card {
            background-color: #f1f5f9;
            border-radius: 12px;
            padding: 1.5rem;
            overflow: visible;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.4s ease;
            transform: scale(1);
            animation: fadeUp 1.5s ease-in-out;
            cursor: pointer;
            position: relative;
            margin-bottom: 10px;
        }

        .service-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.1);
            background-color: #e0efff;
        }

        .service-card h3 {
            margin-top: 0;
            color: #0f416c;
            font-size: 1.3rem;
        }

        .service-card p {
            font-size: 0.95rem;
            line-height: 1.6;
            color: #444;
        }

        .service-icon {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 2rem;
            color: rgba(15, 65, 108, 0.1);
        }


        .hover-img-container {
            position: absolute;
            bottom: 100%; /* Places it above the card */
            left: 50%;
            transform: translateX(-50%) translateY(10px);
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .hover-img-container img {
            width: 130px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .service-card:hover .hover-img-container {
            opacity: 1;
            transform: translateX(-50%) translateY(-10px);
            pointer-events: auto;
        }
        .checkout-wrapper {
            text-align: right;
            top: 10px;
        }

        .checkout-button {
            background-color: #0f416c;
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
        }

        .checkout-button:hover {
            background-color: #092b46;
        }
        .card-content-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 1rem;
        }

        .card-text {
            flex: 1;
        }

        .checkout-button {
            background-color: #0f416c;
            color: white;
            padding: 8px 14px;
            border-radius: 6px;
            text-decoration: none;
            font-weight: bold;
            white-space: nowrap;
        }

        @media (max-width: 768px) {
            .ellipse-1 {
                width: 434px;
                height: 434px;
            }

            .ellipse, .ellipse-2 {
                width: 434px;
                height: 434px;
            }
            .mobile-image {
                display: block;
                text-align: center;
            }
            .desktop-image{
                display: none;
            }
        }
    </style>
</h:head>

<h:body>
    <ui:include src="/common/navbar.xhtml" />

    <p:outputPanel styleClass="ellipse" />
    <p:outputPanel styleClass="ellipse-2" />
    <p:outputPanel styleClass="ellipse-1" />

    <div class="services-section">
        <div class="text-content">
            <header>
                <h1>Our Services</h1>
                <p>Delivering smart, scalable, and sustainable technology solutions</p>
            </header>
            <p>
                At Tech Equations, we specialize in crafting digital experiences that drive results.
                From intuitive mobile applications to scalable backend systems, our team leverages
                the latest technologies to bring your vision to life. Explore our wide range of services
                designed to help businesses adapt, grow, and thrive in today’s fast-paced digital landscape.
            </p>
        </div>

        <div class="puzzle-wrapper">

            <svg width="400" height="400" viewBox="0 0 500 500">
                <defs>
                    <mask id="mask">
                        <rect width="100%" height="100%" fill="white"/>
                        <path id="puzzlePath" xmlns="http://www.w3.org/2000/svg" d="m463,23.5c0-12.958-10.542-23.5-23.5-23.5h-192c-6.177,0-11.801,2.399-16,6.31-4.199-3.911-9.823-6.31-16-6.31h-192c-12.958,0-23.5,10.542-23.5,23.5v192c0,6.177 2.399,11.801 6.31,16-3.911,4.199-6.31,9.823-6.31,16v192c0,12.958 10.542,23.5 23.5,23.5h192c6.177,0 11.801-2.399 16-6.31 4.199,3.911 9.823,6.31 16,6.31h192c12.958,0 23.5-10.542 23.5-23.5v-192c0-6.177-2.399-11.801-6.31-16 3.911-4.199 6.31-9.823 6.31-16v-192zm-215.5-8.5h192c4.687,0 8.5,3.813 8.5,8.5v192c0,4.687-3.813,8.5-8.5,8.5h-65.062c-4.102,0-7.438-3.337-7.438-7.438v-3.725c0-2.442 1.378-4.811 3.781-6.498 15.196-10.674 22.668-28.758 19.5-47.195-3.244-18.881-17.961-34.186-36.624-38.084-14.323-2.992-28.94,0.495-40.098,9.563-11.159,9.069-17.559,22.511-17.559,36.877 0,15.565 7.665,30.158 20.504,39.037 2.222,1.536 3.496,3.812 3.496,6.244v3.78c0,4.102-3.337,7.438-7.438,7.438h-73.562v-73.562c0-12.372-10.065-22.437-22.438-22.437h-3.78c-7.32,0-14.267,3.725-18.582,9.964-6.078,8.789-16.059,14.036-26.7,14.036-9.83,0-19.028-4.381-25.237-12.021-6.299-7.75-8.614-17.542-6.52-27.571 2.608-12.489 13.275-22.731 25.94-24.906 12.668-2.179 25.073,2.937 32.379,13.339 4.536,6.456 11.378,10.159 18.774,10.159h3.726c12.373,0 22.438-10.065 22.438-22.438v-65.062c0-4.687 3.813-8.5 8.5-8.5zm-232.5,8.5c0-4.687 3.813-8.5 8.5-8.5h192c4.687,0 8.5,3.813 8.5,8.5v65.062c0,4.102-3.336,7.438-7.438,7.438h-3.726c-2.442,0-4.811-1.378-6.498-3.78-10.673-15.196-28.753-22.673-47.194-19.501-18.882,3.242-34.187,17.96-38.085,36.623-2.992,14.325 0.494,28.94 9.563,40.099 9.07,11.159 22.511,17.559 36.878,17.559 15.565,0 30.159-7.665 39.037-20.504 1.537-2.222 3.813-3.496 6.245-3.496h3.78c4.102,0 7.438,3.337 7.438,7.438v73.562h-73.562c-12.373,0-22.438,10.065-22.438,22.438v3.78c0,7.321 3.725,14.268 9.964,18.582 8.789,6.078 14.036,16.059 14.036,26.7 0,9.83-4.381,19.029-12.021,25.237-7.75,6.298-17.541,8.615-27.572,6.519-12.488-2.607-22.73-13.274-24.906-25.94-2.175-12.665 2.936-25.072 13.339-32.379 6.456-4.535 10.159-11.378 10.159-18.773v-3.725c0.001-12.374-10.064-22.439-22.437-22.439h-65.062c-4.687,0-8.5-3.813-8.5-8.5v-192zm200.5,424.5h-192c-4.687,0-8.5-3.813-8.5-8.5v-192c0-4.687 3.813-8.5 8.5-8.5h65.062c4.102,0 7.438,3.337 7.438,7.438v3.725c0,2.442-1.378,4.811-3.781,6.498-15.196,10.674-22.668,28.757-19.501,47.193 3.244,18.883 17.962,34.188 36.623,38.085 3.364,0.702 6.742,1.048 10.089,1.048 10.908,0 21.471-3.67 30.009-10.609 11.161-9.069 17.561-22.511 17.561-36.878 0-15.565-7.666-30.159-20.505-39.037-2.221-1.536-3.495-3.812-3.495-6.244v-3.78c0-4.102 3.336-7.438 7.438-7.438h73.562v73.562c0,12.372 10.066,22.437 22.438,22.437h3.725c7.396,0 14.239-3.703 18.773-10.16 7.308-10.403 19.714-15.513 32.38-13.338 12.666,2.176 23.333,12.418 25.94,24.907 2.095,10.029-0.221,19.821-6.52,27.571-6.208,7.639-15.406,12.02-25.236,12.02-10.641,0-20.622-5.247-26.7-14.037-4.315-6.238-11.261-9.963-18.582-9.963h-3.78c-12.372,0-22.438,10.065-22.438,22.438v65.062c0,4.687-3.813,8.5-8.5,8.5zm232.5-8.5c0,4.687-3.813,8.5-8.5,8.5h-192c-4.687,0-8.5-3.813-8.5-8.5v-65.062c0-4.102 3.337-7.438 7.438-7.438h3.78c2.432,0 4.708,1.274 6.244,3.495 8.879,12.84 23.473,20.505 39.038,20.505 14.366,0 27.808-6.4 36.877-17.56 9.069-11.157 12.554-25.772 9.563-40.098-3.897-18.662-19.201-33.38-38.083-36.624-18.439-3.176-36.521,4.304-47.195,19.5-1.688,2.403-4.056,3.781-6.499,3.781h-3.725c-4.102,0-7.438-3.337-7.438-7.438v-73.561h73.562c12.372,0 22.438-10.065 22.438-22.438v-3.78c0-7.321-3.725-14.268-9.964-18.582-8.789-6.078-14.036-16.059-14.036-26.7 0-9.83 4.381-19.028 12.02-25.236 7.75-6.3 17.543-8.614 27.571-6.521 12.489,2.608 22.731,13.275 24.907,25.94 2.176,12.665-2.935,25.073-13.339,32.38-6.456,4.536-10.159,11.378-10.159,18.774v3.725c0,12.373 10.066,22.438 22.438,22.438h65.062c4.687,0 8.5,3.813 8.5,8.5v192z"/>

                    </mask>
                </defs>

                <image
                        href="#{resource['images/services.png']}"
                        x="8"
                        y="8"
                        width="450"
                        height="450"
                        preserveAspectRatio="xMidYMid slice"
                        mask="url(#mask)"
                />
            </svg>
        </div>
    </div>


    <!-- Main Services Section -->
    <section class="section">
        <div class="services-grid">
            <p:outputPanel styleClass="frame-6">
                <div class="group-63" style="width: 50%; margin-left: 25%;">
                    <h2 >
                        Discover The Reasons why People Choose Us As their Digital Presence
                    </h2>
                </div>

                <h:panelGroup class="services-container">
                    <ui:repeat value="#{serviceController.services}" var="service">
                        <div class="service-card">

                            <div class="hover-img-container">
                                <img  id="techImage" class="hero-image" src="#{service.img}" alt="Hover Image"/>
                            </div>
                            <i class="service-icon fas fa-cogs"></i>
                            <h3>#{service.name}</h3>
                            <div class="card-content-row">
                                <p>#{service.description}</p>

                                <div class="checkout-wrapper">
                                    <h:link outcome="pricing" styleClass="checkout-button">
                                        <h:outputText value="View Pricing"/>
                                        <f:param name="id" value="#{service.id}" />
                                    </h:link>
                                </div>
                            </div>
                        </div>
                    </ui:repeat>
                </h:panelGroup>


            </p:outputPanel>
        </div>
    </section>

    <!-- Why Choose Us Section -->
    <div class="section" style="margin-top: 3rem; background: #e8f0fe;">
        <h2>Why Choose Tech Equations?</h2>
        <div class="services-grid">
            <div class="service-card">
                <i class="service-icon fas fa-shield-alt"></i>
                <h3>Reliable Support</h3>
                <p>Our team is available 24/7 to assist you with timely and effective technical support.</p>
            </div>
            <div class="service-card">
                <i class="service-icon fas fa-user-tie"></i>
                <h3>Expert Team</h3>
                <p>We bring deep industry knowledge and years of experience to every project we undertake.</p>
            </div>
            <div class="service-card">
                <i class="service-icon fas fa-rocket"></i>
                <h3>Growth-Focused Solutions</h3>
                <p>We don’t just deliver tech – we deliver tools that help you grow your business.</p>
            </div>
        </div>
    </div>

    <footer>
        <ui:include src="/common/footer.xhtml" />
    </footer>
</h:body>
</html>
